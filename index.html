<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Diner Bill Calculator</title>

<style>
body {
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  margin: 24px;
  max-width: 560px;
}

h1 { font-size: 20px; margin-bottom: 16px; }

.card {
  border: 1px solid #ddd;
  border-radius: 12px;
  padding: 16px;
}

label {
  display:block;
  font-weight:600;
  margin-bottom:6px;
}

input[type="number"] {
  width:100%;
  box-sizing:border-box;
  padding:10px 12px;
  border:1px solid #ccc;
  border-radius:10px;
  font-size:16px;
}

table {
  width:100%;
  border-collapse:collapse;
  margin-top:14px;
}

td {
  padding:10px 0;
  border-bottom:1px solid #eee;
}

td:last-child {
  text-align:right;
  font-variant-numeric: tabular-nums;
}

.section-gap td {
  border-bottom:none;
  padding-top:18px;
}

.total {
  font-weight:800;
}

.muted {
  color:#666;
  font-size:12px;
  margin-top:10px;
}
</style>
</head>

<body>

<h1>Diner Bill Calculator</h1>

<div class="card">

<label for="pretax">Total (pre-tax)</label>
<input id="pretax" type="number" min="0" step="0.01" value="0.00" />

<table>
<tr><td>Tax (6%)</td><td id="tax">$0.00</td></tr>
<tr><td>Total + Tax</td><td id="totalWithTax">$0.00</td></tr>

<tr><td>Credit card fee (4% on Total+Tax)</td><td id="ccFee">$0.00</td></tr>
<tr><td>Total + Tax + 4%</td><td id="afterCard">$0.00</td></tr>

<tr class="section-gap"><td colspan="2"></td></tr>

<tr><td>Tip (20%)</td><td id="tip">$0.00</td></tr>
<tr class="total"><td>Final Total</td><td id="final">$0.00</td></tr>
</table>

<div class="muted">
Only the pre-tax total is editable. Rates are fixed in code.
</div>

</div>

<script>
const TAX = 0.06;
const CC  = 0.04;
const TIP = 0.20;

const $ = (id) => document.getElementById(id);
const input = $("pretax");

function money(n){
  return n.toLocaleString(undefined,{style:"currency",currency:"USD"});
}

function calc(){
  const total = Math.max(0, parseFloat(input.value||0));

  const tax = total * TAX;
  const totalWithTax = total + tax;

  const ccFee = totalWithTax * CC;
  const afterCard = totalWithTax + ccFee;

  const tip = afterCard * TIP;
  const final = afterCard + tip;

  $("tax").textContent = money(tax);
  $("totalWithTax").textContent = money(totalWithTax);
  $("ccFee").textContent = money(ccFee);
  $("afterCard").textContent = money(afterCard);
  $("tip").textContent = money(tip);
  $("final").textContent = money(final);
}

input.addEventListener("input", calc);
calc();
</script>

</body>
</html>
